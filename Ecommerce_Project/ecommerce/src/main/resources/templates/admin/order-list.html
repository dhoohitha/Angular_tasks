<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Orders</title></head>
<body>
<h2>Orders</h2>
<a href="/admin/dashboard">Back</a>

<form method="get" style="margin:10px 0;">
  <label>Filter by status:</label>
  <select name="status">
    <option th:value="${null}" th:selected="${status == null}">All</option>
    <option th:each="s : ${allStatuses}" th:value="${s}" th:text="${s}"
            th:selected="${status == s}"></option>
  </select>
  <button type="submit">Apply</button>
</form>

<div th:if="${orders.size() == 0}">No orders.</div>

<table th:if="${orders.size() > 0}" border="1" cellpadding="6">
  <tr><th>ID</th><th>User</th><th>Date</th><th>Status</th><th>Total</th><th></th></tr>
  <tr th:each="o : ${orders}">
    <td th:text="${o.id}">1</td>
    <td th:text="${o.user.username}">user</td>
    <td th:text="${#temporals.format(o.createdAt, 'dd-MMM-yyyy HH:mm')}">date</td>
    <td th:text="${o.status}">NEW</td>
    <td th:text="${o.total}">0.00</td>
    <td><a th:href="@{'/admin/orders/' + ${o.id}}">View</a></td>
  </tr>
</table>

</body>

</html>
